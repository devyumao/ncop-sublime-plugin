<!doctype html>
<html>
    <head ms-controller="head">
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" >
        <meta name="apple-mobile-web-app-capable" content="yes" >
        <title></title>
        <link rel="stylesheet" type="text/css" href="../../public/styles/reset.css?1">
        <link rel="stylesheet" type="text/css" href="base.css?0">
    </head>
    <body>
        <h2 class="center">JSB接口列表</h2>
        <ul class="bnjs-list pink" id="j-bnjs-list">
            <li><button data-target="http">BNJS.http</button></li>
            <li><button data-target="account">BNJS.account</button></li>
            <li><button data-target="device">BNJS.device</button></li>
            <li><button data-target="env">BNJS.env</button></li>
            <li><button data-target="location">BNJS.location</button></li>
            <li><button data-target="page">BNJS.page</button></li>
            <li><button data-target="ui">BNJS.ui</button></li>
            <li><button data-target="hardware">BNJS.hardware</button></li>
            <li><button data-target="localStorage">BNJS.localStorage</button></li>
            <li><button data-target="statistic">BNJS.statistic</button></li>
        </ul>
        <script type="text/javascript" src="../../public/dep/zepto.js"></script>
        <script type="text/javascript">
            (function ($, window) {
                var BNJSReady = function (readyCallback) {
                    if(readyCallback && typeof readyCallback == 'function'){
                        if(window.BNJS && typeof window.BNJS == 'object' && BNJS._isAllReady){
                            readyCallback();                 
                        }else{
                            document.addEventListener('BNJSReady', function() {
                                readyCallback();
                            }, false);
                        }
                    }
                };

                BNJSReady(function(){
                    BNJS.ui.hideLoadingPage();
                    var list = $('#j-bnjs-list');
                    list.on('click', 'button', function () {
                        var targetPage = $(this).data('target');
                        // QA环境
                        var url = 'bainuo://component?compid=jsb&comppage=' + targetPage;
                        // var url = 'bainuo://component?url=http://172.18.19.34:8080/app/demo/' + targetPage + '.html';
                        BNJS.page.start(url);
                    });
                });
            })($, window);
        </script>
    </body>
</html>